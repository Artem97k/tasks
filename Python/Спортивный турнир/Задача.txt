Задача квалификационного раунда олимпиады для бэкенд-разработчиков от Яндекса

B. Спортивный турнир

Пока Маша была в отпуске, её коллеги организовали турнир по шахматам по олимпийской системе. За отдыхом Маша не обращала особого внимания на эту затею, так что она еле может вспомнить, кто с кем играл (про порядок игр даже речи не идёт). Маша знает, что призы полагаются только финалистам; ей пришла в голову идея провести матч за третье место, в качестве награды — сувенир из отпуска. Помогите Маше понять, кто должен играть в этом матче, если она правильно запомнила играющие пары.

Формат ввода

В первой строке находится целое число k, 2 <= k <= 16 — количество этапов турнира. В последующих n = 2**k - 1 строках — по две фамилии игроков (латинскими заглавными буквадми) через пробел. Все фамилии уникальны, однофамильцев среди коллег нет.

Формат вывода

«NO SOLUTION» (без кавычек) — если Маша неправильно запомнила игры и по этой сетке нельзя получить турнир по олимпийской системе. Если турнирная сетка возможна, выведите две фамилии в одной строке — фамилии участников матча за третье место (порядок не важен).

Пример 1

Ввод:

3
'GORBOVSKII ABALKIN'
'SIKORSKI KAMMERER'
'SIKORSKI GORBOVSKII'
'BYKOV IURKOVSKII'
'PRIVALOV BYKOV'
'GORBOVSKII IURKOVSKII'
'IURKOVSKII KIVRIN'

Вывод:

'BYKOV SIKORSKI'


Пример 2

Ввод:

2
'IVANOV PETROV'
'PETROV BOSHIROV'
'BOSHIROV IVANOV'

Вывод:

NO SOLUTION


Еще примеры:

Ввод:

4, 'A B', 'C D', 'E F', 'G H', 'I J', 'K L', 'M N', 'O P', 'A C', 'E G', 'I K', 'M O', 'A E', 'I M', 'A I'

4, 'A B', 'C D', 'E F', 'G H', 'I J', 'K L', 'M N', 'O P', 'A C', 'E K', 'I G', 'M O', 'A E', 'I M', 'A I'

4, 'A B', 'C D', 'E F', 'G H', 'I J', 'K L', 'M N', 'O P', 'A O', 'E K', 'I G', 'M C', 'A E', 'I M', 'A I'

4, 'A B', 'C D', 'E F', 'G H', 'I J', 'K L', 'M N', 'O P', 'A C', 'E K', 'I G', 'M O', 'A M', 'I E', 'I A'

Вывод:

'M E'